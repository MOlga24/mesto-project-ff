(()=>{"use strict";var e=document.querySelector("#card-template").content;function t(e){e.target.classList.toggle("card__like-button_is-active")}function n(e){e.closest(".card").remove()}function r(t,n,r,o){var c=e.querySelector(".card__image");c.setAttribute("alt",t.name),c.setAttribute("src",t.link);var p=e.querySelector(".places__item").cloneNode(!0);p.querySelector(".card__title").textContent=t.name,p.querySelector(".card__like-button").addEventListener("click",r);var u=p.querySelector(".card__delete-button");return u.addEventListener("click",(function(){n(u)})),p.querySelector(".card__image").addEventListener("click",o),p}function o(e){e.classList.add("popup_is-animated"),e.classList.add("popup_is-opened"),document.addEventListener("keydown",p)}function c(e){e.classList.remove("popup_is-opened"),document.removeEventListener("keydown",p)}function p(e){"Escape"===e.key&&c(document.querySelector(".popup_is-opened"))}function u(e){e.currentTarget===e.target&&c(e.currentTarget)}var i=document.querySelector(".popup_type_new-card"),d=document.querySelector(".profile__add-button"),a=document.querySelector(".popup_type_edit"),s=document.querySelector(".places__list"),l=document.querySelectorAll(".popup"),_=document.querySelector(".profile__edit-button"),m=document.querySelector(".popup_type_image"),y=m.querySelector(".popup__image"),f=document.querySelector(".profile__info");function v(){o(m);var e=m.querySelector(".popup__caption");y.src=this.src,e.textContent=this.alt}document.forms.edit_profile.addEventListener("submit",(function(e){(function(e,t){f.querySelector(".profile__title").textContent=e.value,f.querySelector(".profile__description").textContent=t.value})(document.forms.edit_profile.elements.name,document.forms.edit_profile.elements.description),e.preventDefault(),c(a)})),document.forms.new_place.addEventListener("submit",(function(e){var o=i.querySelector(".popup__input_type_card-name").value,p=i.querySelector(".popup__input_type_url").value;e.preventDefault();var u=r({name:o,link:p},n,t,v);s.prepend(u),c(i),document.forms.new_place.reset()})),document.addEventListener("click",(function(e){e.target===d&&o(i),e.target===_&&(document.querySelector(".popup__input_type_name").value=f.querySelector(".profile__title").textContent,document.querySelector(".popup__input_type_description").value=f.querySelector(".profile__description").textContent,o(a))})),l.forEach((function(e){e.querySelector(".popup__close").addEventListener("click",(function(){c(e)}))})),l.forEach((function(e){e.addEventListener("click",u)})),s.textContent=" ",[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){s.append(r(e,n,t,v))})),document.forms.edit_profile.reset()})();